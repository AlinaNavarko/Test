<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–µ—Ä–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 30px;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
        }
        
        .section-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .component-category {
            margin-bottom: 25px;
        }
        
        .category-title {
            font-size: 1.2em;
            color: #667eea;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .category-title::before {
            content: "‚ñ∏";
            margin-right: 8px;
            font-size: 1.3em;
        }
        
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .component-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .component-card:hover:not(.disabled) {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(61, 243, 187, 0.3);
        }
        
        .component-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .component-card.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            filter: grayscale(80%);
        }
        
        .incompatible-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff4757;
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.75em;
            font-weight: bold;
        }
        
        .component-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }
        
        .component-specs {
            font-size: 0.9em;
            color: #666;
            margin-top: 8px;
            line-height: 1.4;
        }
        
        .config-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #e0e0e0;
        }
        
        .config-item-name {
            font-weight: 500;
            color: #333;
            flex: 1;
        }
        
        .config-item-category {
            font-size: 0.85em;
            color: #999;
        }
        
        .remove-btn {
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .remove-btn:hover {
            background: #ff3838;
        }
        
        .config-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 15px;
        }
        
        .config-summary h3 {
            margin-bottom: 10px;
        }
        
        .config-summary .count {
            font-size: 2em;
            font-weight: bold;
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1c2a3c;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }
        
        .empty-config {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        
        .filter-info {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 15px;
            color: #856404;
            font-size: 0.95em;
        }
        
        .filter-info strong {
            color: #667eea;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideUp 0.3s;
        }
        
        .modal-header {
            margin-bottom: 20px;
        }
        
        .modal-header h2 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .form-group input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }
        
        .form-group.checkbox {
            display: flex;
            align-items: center;
        }
        
        .config-preview {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .config-preview h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .config-preview-item {
            padding: 5px 0;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.9em;
        }
        
        .modal-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üñ•Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–µ—Ä–æ–≤</h1>
            <p>–°–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é - –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π</p>
        </header>
        
        <div class="main-content">
            <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
            <div class="section">
                <h2 class="section-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h2>
                
                <div id="filterInfo" class="filter-info" style="display: none;">
                    <strong>üéØ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞!</strong><br>
                    –ü–æ–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å: <span id="selectedServer"></span>
                </div>
                
                <!-- –°–µ—Ä–≤–µ—Ä—ã -->
                <div class="component-category">
                    <h3 class="category-title">–°–µ—Ä–≤–µ—Ä—ã</h3>
                    <div class="component-grid" id="servers"></div>
                </div>
                
                <!-- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã -->
                <div class="component-category">
                    <h3 class="category-title">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã</h3>
                    <div class="component-grid" id="processors"></div>
                </div>
                
                <!-- –ü–∞–º—è—Ç—å -->
                <div class="component-category">
                    <h3 class="category-title">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</h3>
                    <div class="component-grid" id="memory"></div>
                </div>
                
                <!-- –ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏ -->
                <div class="component-category">
                    <h3 class="category-title">–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏</h3>
                    <div class="component-grid" id="storage"></div>
                </div>
                
                <!-- –ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è -->
                <div class="component-category">
                    <h3 class="category-title">–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è</h3>
                    <div class="component-grid" id="psu"></div>
                </div>
            </div>
            
            <!-- –í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
            <div style="position: sticky; top: 20px;">
                <div class="section">
                    <h2 class="section-title">–í–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
                    
                    <div id="configList">
                        <div class="empty-config">
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</p>
                        </div>
                    </div>
                    
                    <div class="config-summary">
                        <h3>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h3>
                        <div class="count" id="componentCount">0</div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="openRequestForm()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É</button>
                    <button class="btn btn-secondary" onclick="clearConfig()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞—è–≤–∫–∏ -->
    <div id="requestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏</h2>
                <p style="color: #666;">–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</p>
            </div>
            
            <div class="config-preview">
                <h4>–í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:</h4>
                <div id="modalConfigList"></div>
            </div>
            
            <form id="requestForm" onsubmit="submitRequest(event)">
                <div class="form-group">
                    <label>–ò–º—è *</label>
                    <input type="text" name="name" required placeholder="–í–∞—à–µ –∏–º—è">
                </div>
                
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" name="phone" required placeholder="+7 (___) ___-__-__">
                </div>
                
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" placeholder="example@mail.ru">
                </div>
                
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                    <textarea name="comment" placeholder="–£–∫–∞–∂–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã"></textarea>
                </div>
                
                <div class="form-group checkbox">
                    <input type="checkbox" id="agreement" required>
                    <label for="agreement">–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</label>
                </div>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeRequestForm()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        const components = {
            servers: [
                {
                    id: 'hp_ml350g4p',
                    name: 'HP ProLiant ML350 G4p',
                    socket: '604',
                    memory_type: 'DDR2',
                    manufacturer: 'HP',
                    specs: '4U –°—Ç–æ–π–∫–∞ ‚Ä¢ –î–æ 2 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ ‚Ä¢ 8 —Å–ª–æ—Ç–æ–≤ –ø–∞–º—è—Ç–∏ ‚Ä¢ Socket 604 ‚Ä¢ DDR2'
                },
                {
                    id: 'dell_r710',
                    name: 'Dell PowerEdge R710',
                    socket: '1366',
                    memory_type: 'DDR3',
                    manufacturer: 'Dell',
                    specs: '2U –°—Ç–æ–π–∫–∞ ‚Ä¢ –î–æ 2 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ ‚Ä¢ 18 —Å–ª–æ—Ç–æ–≤ –ø–∞–º—è—Ç–∏ ‚Ä¢ Socket 1366 ‚Ä¢ DDR3'
                },
                {
                    id: 'ibm_x3650',
                    name: 'IBM System x3650 M3',
                    socket: '1366',
                    memory_type: 'DDR3',
                    manufacturer: 'IBM',
                    specs: '2U –°—Ç–æ–π–∫–∞ ‚Ä¢ –î–æ 2 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ ‚Ä¢ 18 —Å–ª–æ—Ç–æ–≤ –ø–∞–º—è—Ç–∏ ‚Ä¢ Socket 1366 ‚Ä¢ DDR3'
                }
            ],
            processors: [
                {
                    id: 'xeon_3_0',
                    name: 'Intel Xeon 3.0 –ì–ì—Ü',
                    socket: '604',
                    specs: 'Socket 604 ‚Ä¢ 1 —è–¥—Ä–æ ‚Ä¢ 1 –ú–ë –∫—ç—à ‚Ä¢ TDP 89 –í—Ç'
                },
                {
                    id: 'xeon_3_2',
                    name: 'Intel Xeon 3.2 –ì–ì—Ü',
                    socket: '604',
                    specs: 'Socket 604 ‚Ä¢ 1 —è–¥—Ä–æ ‚Ä¢ 1 –ú–ë –∫—ç—à ‚Ä¢ TDP 103 –í—Ç'
                },
                {
                    id: 'xeon_e5620',
                    name: 'Intel Xeon E5620',
                    socket: '1366',
                    specs: 'Socket 1366 ‚Ä¢ 4 —è–¥—Ä–∞ ‚Ä¢ 12 –ú–ë –∫—ç—à ‚Ä¢ TDP 80 –í—Ç'
                },
                {
                    id: 'xeon_x5670',
                    name: 'Intel Xeon X5670',
                    socket: '1366',
                    specs: 'Socket 1366 ‚Ä¢ 6 —è–¥–µ—Ä ‚Ä¢ 12 –ú–ë –∫—ç—à ‚Ä¢ TDP 95 –í—Ç'
                }
            ],
            memory: [
                {
                    id: 'kingston_1gb',
                    name: 'Kingston 1 –ì–ë DDR2-400',
                    memory_type: 'DDR2',
                    specs: 'DDR2 ‚Ä¢ 400 –ú–ì—Ü ‚Ä¢ 1 –ì–ë ‚Ä¢ 1.8 –í'
                },
                {
                    id: 'corsair_2gb',
                    name: 'Corsair 2 –ì–ë DDR2-533',
                    memory_type: 'DDR2',
                    specs: 'DDR2 ‚Ä¢ 533 –ú–ì—Ü ‚Ä¢ 2 –ì–ë ‚Ä¢ 1.8 –í'
                },
                {
                    id: 'samsung_4gb',
                    name: 'Samsung 4 –ì–ë DDR3-1333',
                    memory_type: 'DDR3',
                    specs: 'DDR3 ‚Ä¢ 1333 –ú–ì—Ü ‚Ä¢ 4 –ì–ë ‚Ä¢ 1.5 –í'
                },
                {
                    id: 'crucial_8gb',
                    name: 'Crucial 8 –ì–ë DDR3-1600',
                    memory_type: 'DDR3',
                    specs: 'DDR3 ‚Ä¢ 1600 –ú–ì—Ü ‚Ä¢ 8 –ì–ë ‚Ä¢ 1.5 –í'
                }
            ],
            storage: [
                {
                    id: 'seagate_500gb',
                    name: 'Seagate 500 –ì–ë SATA',
                    compatible_with_all: true,
                    specs: 'HDD ‚Ä¢ 7200 –æ–±/–º–∏–Ω ‚Ä¢ 16 –ú–ë –∫—ç—à ‚Ä¢ 3.5"'
                },
                {
                    id: 'wd_1tb',
                    name: 'WD 1 –¢–ë SATA',
                    compatible_with_all: true,
                    specs: 'HDD ‚Ä¢ 7200 –æ–±/–º–∏–Ω ‚Ä¢ 64 –ú–ë –∫—ç—à ‚Ä¢ 3.5"'
                },
                {
                    id: 'intel_ssd',
                    name: 'Intel SSD 240 –ì–ë',
                    compatible_with_all: true,
                    specs: 'SSD ‚Ä¢ SATA 3.0 ‚Ä¢ 550 –ú–ë/—Å ‚Ä¢ 2.5"'
                }
            ],
            psu: [
                {
                    id: 'hp_460w',
                    name: 'HP –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 460 –í—Ç',
                    manufacturer: 'HP',
                    specs: '460 –í—Ç ‚Ä¢ 80+ ‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'
                },
                {
                    id: 'dell_750w',
                    name: 'Dell –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 750 –í—Ç',
                    manufacturer: 'Dell',
                    specs: '750 –í—Ç ‚Ä¢ 80+ Gold ‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'
                },
                {
                    id: 'ibm_835w',
                    name: 'IBM –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 835 –í—Ç',
                    manufacturer: 'IBM',
                    specs: '835 –í—Ç ‚Ä¢ 80+ Platinum ‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'
                }
            ]
        };
        
        const categoryNames = {
            servers: '–°–µ—Ä–≤–µ—Ä',
            processors: '–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä',
            memory: '–ü–∞–º—è—Ç—å',
            storage: '–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å',
            psu: '–ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è'
        };
        
        let config = [];
        let selectedServer = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            renderComponents('servers', components.servers);
            renderComponents('processors', components.processors);
            renderComponents('memory', components.memory);
            renderComponents('storage', components.storage);
            renderComponents('psu', components.psu);
        }
        
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        function renderComponents(category, items) {
            const container = document.getElementById(category);
            container.innerHTML = '';
            
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'component-card';
                card.id = `card-${item.id}`;
                card.onclick = () => addComponent(category, item);
                
                card.innerHTML = `
                    <div class="component-name">${item.name}</div>
                    <div class="component-specs">${item.specs}</div>
                `;
                
                container.appendChild(card);
            });
        }
        
        // –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
        function addComponent(category, item) {
            // –ï—Å–ª–∏ —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä
            if (category === 'servers') {
                config = config.filter(c => c.category !== 'servers');
                selectedServer = item;
                
                document.getElementById('filterInfo').style.display = 'block';
                document.getElementById('selectedServer').textContent = item.name;
                
                applyFilters();
            }
            
            if (!config.find(c => c.id === item.id)) {
                config.push({...item, category});
                updateConfig();
            }
        }
        
        // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
        function applyFilters() {
            if (!selectedServer) return;
            
            // –§–∏–ª—å—Ç—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
            components.processors.forEach(cpu => {
                const card = document.getElementById(`card-${cpu.id}`);
                if (cpu.socket === selectedServer.socket) {
                    card.classList.remove('disabled');
                    const badge = card.querySelector('.incompatible-badge');
                    if (badge) badge.remove();
                } else {
                    card.classList.add('disabled');
                    if (!card.querySelector('.incompatible-badge')) {
                        const badge = document.createElement('div');
                        badge.className = 'incompatible-badge';
                        badge.textContent = '–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º';
                        card.appendChild(badge);
                    }
                }
            });
            
            // –§–∏–ª—å—Ç—Ä –ø–∞–º—è—Ç–∏
            components.memory.forEach(mem => {
                const card = document.getElementById(`card-${mem.id}`);
                if (mem.memory_type === selectedServer.memory_type) {
                    card.classList.remove('disabled');
                    const badge = card.querySelector('.incompatible-badge');
                    if (badge) badge.remove();
                } else {
                    card.classList.add('disabled');
                    if (!card.querySelector('.incompatible-badge')) {
                        const badge = document.createElement('div');
                        badge.className = 'incompatible-badge';
                        badge.textContent = '–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º';
                        card.appendChild(badge);
                    }
                }
            });
            
            // –§–∏–ª—å—Ç—Ä –ë–ü
            components.psu.forEach(psu => {
                const card = document.getElementById(`card-${psu.id}`);
                if (psu.manufacturer === selectedServer.manufacturer) {
                    card.classList.remove('disabled');
                    const badge = card.querySelector('.incompatible-badge');
                    if (badge) badge.remove();
                } else {
                    card.classList.add('disabled');
                    if (!card.querySelector('.incompatible-badge')) {
                        const badge = document.createElement('div');
                        badge.className = 'incompatible-badge';
                        badge.textContent = '–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º';
                        card.appendChild(badge);
                    }
                }
            });
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        function updateConfig() {
            const container = document.getElementById('configList');
            
            if (config.length === 0) {
                container.innerHTML = '<div class="empty-config"><p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</p></div>';
            } else {
                container.innerHTML = config.map(item => `
                    <div class="config-item">
                        <div>
                            <div class="config-item-name">${item.name}</div>
                            <div class="config-item-category">${categoryNames[item.category]}</div>
                        </div>
                        <button class="remove-btn" onclick="removeComponent('${item.id}')">‚úï</button>
                    </div>
                `).join('');
            }
            
            document.getElementById('componentCount').textContent = config.length;
        }
        
        // –£–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
        function removeComponent(id) {
            config = config.filter(c => c.id !== id);
            
            if (id === selectedServer?.id) {
                selectedServer = null;
                document.getElementById('filterInfo').style.display = 'none';
                
                document.querySelectorAll('.component-card').forEach(card => {
                    card.classList.remove('disabled');
                    const badge = card.querySelector('.incompatible-badge');
                    if (badge) badge.remove();
                });
            }
            
            updateConfig();
        }
        
        // –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        function clearConfig() {
            if (config.length === 0) return;
            
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é?')) {
                config = [];
                selectedServer = null;
                document.getElementById('filterInfo').style.display = 'none';
                
                document.querySelectorAll('.component-card').forEach(card => {
                    card.classList.remove('disabled', 'selected');
                    const badge = card.querySelector('.incompatible-badge');
                    if (badge) badge.remove();
                });
                
                updateConfig();
            }
        }
        
        // –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
        function openRequestForm() {
            if (config.length === 0) {
                alert('–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –∑–∞—è–≤–∫–∏');
                return;
            }
            
            // –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
            const modalList = document.getElementById('modalConfigList');
            modalList.innerHTML = config.map(item => `
                <div class="config-preview-item">
                    ${categoryNames[item.category]}: ${item.name}
                </div>
            `).join('');
            
            document.getElementById('requestModal').classList.add('active');
        }
        
        // –ó–∞–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
        function closeRequestForm() {
            document.getElementById('requestModal').classList.remove('active');
            document.getElementById('requestForm').reset();
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
        function submitRequest(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                comment: formData.get('comment'),
                configuration: config.map(item => ({
                    category: categoryNames[item.category],
                    name: item.name
                }))
            };
            
            console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏:', data);
            
            // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            // fetch('/api/requests', { method: 'POST', body: JSON.stringify(data) })
            
            alert(`–°–ø–∞—Å–∏–±–æ, ${data.name}!\n\n–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞.\n–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É ${data.phone} –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.`);
            
            closeRequestForm();
            clearConfig();
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –µ—ë
        document.getElementById('requestModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeRequestForm();
            }
        });
        
        // –ó–∞–ø—É—Å–∫
        init();
    </script>
</body>
</html>
