<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Конфигуратор серверов и систем хранения - Выбор опций</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            min-height: 100vh;
            padding: 0;
        }
        
        /* TOP CONTACT HEADER */
        .top-header {
            background: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 8px 0;
            font-size: 0.9em;
        }
        
        .top-header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #1c2a3c;
        }
        
        .contact-icon {
            width: 16px;
            height: 16px;
            fill: #1c2a3c;
        }
        
        /* MAIN HEADER */
        .main-header {
            background: #1c2a3c;
            color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 5px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.6em;
            font-weight: 600;
            color: white;
            text-decoration: none;
        }
        
        .logo-image {
            height: 40px;
            width: auto;
            max-width: 200px;
        }
        
        .custom-logo-link {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .custom-logo-link span {
            display: block;
            padding-top: 5px;
            text-transform: uppercase;
            color: rgb(61, 243, 187);
            font-size: 16px;
            font-weight: normal;
        }
        
        .main-nav {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1em;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-link:hover {
            background: rgba(61, 243, 187, 0.1);
            color: rgb(61, 243, 187);
        }
        
        .nav-link.active {
            color: rgb(61, 243, 187);
        }
        
        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }
        
        .products-link .nav-icon {
            fill: rgb(61, 243, 187);
        }
        
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-arrow {
            width: 12px;
            height: 12px;
            margin-left: 4px;
            transition: transform 0.3s ease;
        }
        
        .dropdown:hover .dropdown-arrow {
            transform: rotate(180deg);
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            top: calc(100% + 16px);
            left: 0px;
            background: white;
            min-width: 220px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 1000;
            padding: 8px 0;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content {
            transition: opacity 0.2s ease;
        }
        
        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: #333;
            text-decoration: none;
            font-size: 0.95em;
            transition: all 0.3s ease;
            position: relative;
            padding-left: 35px;
        }
        
        .dropdown-item::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 6px;
            background: rgb(61, 243, 187);
            border-radius: 50%;
        }
        
        .dropdown-item:hover {
            background: rgba(61, 243, 187, 0.1);
            color: #1c2a3c;
        }
        
        .consultation-btn {
            background: rgba(61, 243, 187, 0.1);
            color: white;
            border: none;
            height: 36px;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .consultation-btn:hover {
            background: rgba(61, 243, 187, 0.15);
            color: rgb(61, 243, 187);
        }
        
        .cart-icon-link {
            position: relative;
            font-size: 1.5em;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s;
            color: white;
            text-decoration: none;
        }
        
        .cart-icon {
            width: 24px;
            height: 24px;
            vertical-align: middle;
        }
        
        .cart-icon-link:hover {
            background: rgba(61, 243, 187, 0.1);
            color: rgb(61, 243, 187);
        }
        
        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: rgb(61, 243, 187);
            color: #1c2a3c;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            font-weight: bold;
        }
        
        .cart-badge.hidden {
            display: none;
        }
        
        /* HERO SECTION */
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('Files/bg_cofig.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 60px 30px;
            text-align: center;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .hero-subtitle {
            font-size: 1.1em;
            line-height: 1.5;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .hero-info {
            margin-top: 15px;
            font-size: 1em;
            color: rgb(61, 243, 187);
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .hero-info span {
            margin: 0 8px;
        }
        
        /* BREADCRUMB */
        .breadcrumb {
            padding: 15px 30px;
            background: white;
            border-bottom: 1px solid rgb(61, 243, 187);
            color: #666;
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .breadcrumb-step {
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .breadcrumb-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: rgb(61, 243, 187);
            color: #1c2a3c;
            border-radius: 50%;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .breadcrumb .active .breadcrumb-number {
            background: rgb(61, 243, 187);
            color: #1c2a3c;
        }
        
        .breadcrumb .completed .breadcrumb-number {
            background: #6c757d;
            color: white;
        }
        
        .breadcrumb .completed a {
            color: #6c757d;
            text-decoration: none;
            font-weight: 500;
        }
        
        .breadcrumb .completed a:hover {
            color: #495057;
            text-decoration: underline;
        }
        
        /* MAIN CONTENT WRAPPER */
        .main-content-wrapper {
            display: flex;
            gap: 20px;
            max-width: 1600px;
            margin: 15px auto;
            padding: 0 30px;
            align-items: flex-start;
        }
        
        /* OPTIONS CONTAINER */
        .options-container {
            flex: 1;
            min-width: 0;
        }
        
        .option-group {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .option-group-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #1c2a3c;
            margin-bottom: 10px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 8px;
        }
        
        .option-item {
            position: relative;
        }
        
        .option-checkbox {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            color: #333;
            user-select: none;
        }
        
        .option-label:hover {
            background: rgba(61, 243, 187, 0.1);
            border-color: rgb(61, 243, 187);
        }
        
        .option-checkbox:checked + .option-label {
            background: rgba(61, 243, 187, 0.2);
            color: #1c2a3c;
            border-color: rgb(61, 243, 187);
            font-weight: 600;
        }
        
        .option-checkbox:checked + .option-label::before {
            content: '✓';
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        /* Checkbox specific styles */
        input[type="checkbox"].option-checkbox:checked + .option-label::before {
            content: '✓';
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .sub-options {
            display: none;
            margin-top: 8px;
            padding-left: 12px;
            border-left: 2px solid rgb(61, 243, 187);
        }
        
        .sub-options.active {
            display: block;
        }
        
        .sub-options h3 {
            font-size: 0.95em !important;
            margin-bottom: 8px !important;
        }
        
        .sub-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }
        
        /* OPTION GROUPS SECTION */
        .option-section {
            margin-bottom: 20px;
        }
        
        .option-section-title {
            font-size: 1.3em;
            font-weight: 700;
            color: #1c2a3c;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid rgb(61, 243, 187);
        }
        
        /* ACTION BUTTONS */
        .action-buttons {
            max-width: 1400px;
            margin: 30px auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, rgb(61, 243, 187) 0%, rgb(45, 220, 170) 100%);
            color: #1c2a3c;
            box-shadow: 0 4px 15px rgba(61, 243, 187, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(61, 243, 187, 0.4);
        }
        
        /* FOOTER */
        .footer {
            background: #1c2a3c;
            color: white;
            padding: 10px 0;
            margin-top: 40px;
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-text {
            font-size: 0.8em;
            line-height: 1.6;
            color: #aaa;
        }
        
        /* SIDEBAR PANEL */
        .sidebar-panel {
            width: 320px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .sidebar-panel.collapsed {
            width: 60px;
        }
        
        .sidebar-header {
            padding: 12px 12px 4px 12px;
            border-bottom: 1px solid #e0e0e0;
            background: #f8f9fa;
            border-radius: 8px 8px 0 0;
        }
        
        .sidebar-header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .sidebar-info {
            font-size: 0.8em;
            color: #666;
            padding: 4px 0 0 0;
            border-top: 1px solid #e0e0e0;
            margin-top: 4px;
            padding-top: 4px;
        }
        
        .sidebar-info-item {
            margin-bottom: 1px;
        }
        
        .sidebar-info-item:last-child {
            margin-bottom: 0;
        }
        
        .sidebar-info-label {
            font-weight: 600;
            color: #1c2a3c;
        }
        
        .sidebar-panel.collapsed .sidebar-info {
            display: none;
        }
        
        .sidebar-title {
            font-size: 1em;
            font-weight: 600;
            color: #1c2a3c;
        }
        
        .sidebar-panel.collapsed .sidebar-title {
            display: none;
        }
        
        .sidebar-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            color: #1c2a3c;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        
        .sidebar-toggle:hover {
            background: rgba(61, 243, 187, 0.2);
        }
        
        .sidebar-panel.collapsed .sidebar-toggle {
            margin: 0 auto;
        }
        
        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }
        
        .sidebar-panel.collapsed .sidebar-content {
            display: none;
        }
        
        .selected-option-group {
            margin-bottom: 15px;
        }
        
        .selected-option-group:last-child {
            margin-bottom: 0;
        }
        
        .selected-option-group-title {
            font-size: 0.85em;
            font-weight: 600;
            color: #666;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .selected-option-item {
            padding: 6px 10px;
            background: rgba(61, 243, 187, 0.1);
            border-left: 3px solid rgb(61, 243, 187);
            border-radius: 4px;
            margin-bottom: 4px;
            font-size: 0.85em;
            color: #1c2a3c;
            line-height: 1.4;
        }
        
        .selected-option-item.empty {
            color: #999;
            font-style: italic;
            background: #f8f9fa;
            border-left-color: #e0e0e0;
        }
        
        
        .clear-all-btn {
            width: 100%;
            padding: 10px;
            margin-top: 15px;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            color: #666;
            transition: all 0.2s;
        }
        
        .clear-all-btn:hover {
            background: #e9ecef;
            border-color: #ccc;
        }
        
        /* MODAL POPUP */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 12px 12px 0 0;
        }
        
        .modal-title {
            font-size: 1.5em;
            font-weight: 600;
            color: #1c2a3c;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.8em;
            color: #666;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: rgba(0,0,0,0.1);
            color: #1c2a3c;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .selected-summary {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .summary-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #1c2a3c;
            margin-bottom: 15px;
        }
        
        .summary-group {
            margin-bottom: 15px;
        }
        
        .summary-group:last-child {
            margin-bottom: 0;
        }
        
        .summary-group-title {
            font-size: 0.9em;
            font-weight: 600;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .summary-item {
            font-size: 0.95em;
            color: #1c2a3c;
            margin-bottom: 4px;
            padding-left: 10px;
        }
        
        .summary-item::before {
            content: '•';
            color: rgb(61, 243, 187);
            margin-right: 8px;
        }
        
        .contact-form {
            margin-top: 25px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        .form-label {
            display: block;
            font-size: 0.95em;
            font-weight: 600;
            color: #1c2a3c;
            margin-bottom: 8px;
        }
        
        .form-label .required {
            color: #e74c3c;
            margin-left: 3px;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.95em;
            color: #1c2a3c;
            transition: all 0.3s;
            font-family: inherit;
        }
        
        .form-input:focus {
            outline: none;
            border-color: rgb(61, 243, 187);
            box-shadow: 0 0 0 3px rgba(61, 243, 187, 0.1);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            gap: 15px;
            background: #f8f9fa;
            border-radius: 0 0 12px 12px;
        }
        
        @media (max-width: 768px) {
            .modal-content {
                max-width: 100%;
                margin: 10px;
            }
            
            .modal-body {
                padding: 20px;
            }
        }
        
        @media (max-width: 1200px) {
            .sidebar-panel {
                width: 280px;
            }
        }
        
        @media (max-width: 768px) {
            .main-content-wrapper {
                flex-direction: column;
            }
            
            .sidebar-panel {
                width: 100%;
                position: relative;
                top: 0;
                max-height: 400px;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .hero-title {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- TOP CONTACT HEADER -->
    <div class="top-header">
        <div class="top-header-container">
            <div class="contact-info">
                <div class="contact-item">
                    <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                    </svg>
                    <span>г. Минск, ул. Аранская, 8, блок 1, помещение 201, БЦ "CASPIAN PLAZA"</span>
                </div>
                <div class="contact-item">
                    <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" fill="currentColor"/>
                    </svg>
                    <span>+375 (29) 391-90-44</span>
                </div>
                <div class="contact-item">
                    <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor"/>
                    </svg>
                    <span>info@beltrader.by, sales@beltrader.by</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- MAIN HEADER -->
    <header class="main-header">
        <div class="header-container">
            <div class="logo custom-logo-link">
                <img src="Files/logo_beltrader.svg" alt="BELTRADER" class="logo-image">
                <span>ООО "БАСИ-ПЛЮС"</span>
            </div>
            <nav class="main-nav">
                <a href="index.html" class="nav-link">Главная</a>
                <div class="dropdown">
                    <a href="#" class="nav-link products-link active" onclick="toggleDropdown(event)">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M1.71429 0.5C1.25963 0.5 0.823594 0.680612 0.502103 1.0021C0.180612 1.32359 0 1.75963 0 2.21429L0 12.5C0 12.9547 0.180612 13.3907 0.502103 13.7122C0.823594 14.0337 1.25963 14.2143 1.71429 14.2143H8.57143C9.02609 14.2143 9.46212 14.0337 9.78361 13.7122C10.1051 13.3907 10.2857 12.9547 10.2857 12.5V2.21429C10.2857 1.75963 10.1051 1.32359 9.78361 1.0021C9.46212 0.680612 9.02609 0.5 8.57143 0.5H1.71429ZM13.7143 2.21429C13.7143 1.75963 13.8949 1.32359 14.2164 1.0021C14.5379 0.680612 14.9739 0.5 15.4286 0.5L22.2857 0.5C22.7404 0.5 23.1764 0.680612 23.4979 1.0021C23.8194 1.32359 24 1.75963 24 2.21429V5.66C24 6.11466 23.8194 6.55069 23.4979 6.87218C23.1764 7.19367 22.7404 7.37429 22.2857 7.37429H15.4286C14.9739 7.37429 14.5379 7.19367 14.2164 6.87218C13.8949 6.55069 13.7143 6.11466 13.7143 5.66V2.21429ZM13.7143 12.5C13.7143 12.0453 13.8949 11.6093 14.2164 11.2878C14.5379 10.9663 14.9739 10.7857 15.4286 10.7857H22.2857C22.7404 10.7857 23.1764 10.9663 23.4979 11.2878C23.8194 11.6093 24 12.0453 24 12.5V22.7857C24 23.2404 23.8194 23.6764 23.4979 23.9979C23.1764 24.3194 22.7404 24.5 22.2857 24.5H15.4286C14.9739 24.5 14.5379 24.3194 14.2164 23.9979C13.8949 23.6764 13.7143 23.2404 13.7143 22.7857V12.5ZM0 19.34C0 18.8853 0.180612 18.4493 0.502103 18.1278C0.823594 17.8063 1.25963 17.6257 1.71429 17.6257H8.57143C9.02609 17.6257 9.46212 17.8063 9.78361 18.1278C10.1051 18.4493 10.2857 18.8853 10.2857 19.34V22.7857C10.2857 23.2404 10.1051 23.6764 9.78361 23.9979C9.46212 24.3194 9.02609 24.5 8.57143 24.5H1.71429C1.25963 24.5 0.823594 24.3194 0.502103 23.9979C0.180612 23.6764 0 23.2404 0 22.7857V19.34Z" fill="#3DF3BB"/>
                        </svg>
                        Продукты и Решения
                        <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <div class="dropdown-content">
                        <a href="web_configurator.html" class="dropdown-item">Конфигуратор серверов и систем хранения</a>
                        <a href="web_catalog.html" class="dropdown-item">Каталог оборудования</a>
                        <a href="information_security.html" class="dropdown-item">Информационная безопасность</a>
                        <a href="software.html" class="dropdown-item">Программное обеспечение</a>
                    </div>
                </div>
                <a href="about.html" class="nav-link">О нас</a>
                <a href="contacts.html" class="nav-link">Контакты</a>
                <button class="consultation-btn" onclick="openConsultationPopup()">Консультация</button>
                <a href="web_configurator_cart.html" class="cart-icon-link" title="Корзина">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 18C5.9 18 5.01 18.9 5.01 20S5.9 22 7 22 8.99 21.1 8.99 20 8.1 18 7 18ZM1 2V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.28 15 7.17 14.89 7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L20.88 5H5.21L4.27 3H1V2ZM17 18C15.9 18 15.01 18.9 15.01 20S15.9 22 17 22 18.99 21.1 18.99 20 18.1 18 17 18Z" fill="currentColor"/>
                    </svg>
                    <span class="cart-badge hidden" id="cartBadge">0</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- HERO SECTION -->
    <div class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Выбор опций</h1>
            <p class="hero-subtitle">Укажите параметры для подбора оптимальной конфигурации</p>
            <div class="hero-info" id="heroInfo">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- BREADCRUMBS -->
    <div class="breadcrumb">
        <div class="breadcrumb-step completed">
            <span class="breadcrumb-number">1</span>
            <a href="web_configurator.html">Выбор платформы</a>
        </div>
        <span> → </span>
        <div class="breadcrumb-step completed">
            <span class="breadcrumb-number">2</span>
            <a href="#" id="breadcrumbProducer" onclick="goBack(); return false;">Выбор производителя</a>
        </div>
        <span> → </span>
        <div class="breadcrumb-step active">
            <span class="breadcrumb-number">3</span>
            <span>Выбор опций</span>
        </div>
    </div>
    
    <!-- MAIN CONTENT WRAPPER -->
    <div class="main-content-wrapper">
        <!-- OPTIONS CONTAINER -->
        <div class="options-container">
        <!-- MAIN CHARACTERISTICS SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Основные характеристики</h2>
            
            <!-- Form Factor -->
            <div class="option-group">
                <h2 class="option-group-title">Вид сервера (форм-фактор)</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="formFactor" id="tower" value="tower" class="option-checkbox" onchange="handleFormFactorChange('tower')">
                    <label for="tower" class="option-label">Tower (Башенный)</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="formFactor" id="rack" value="rack" class="option-checkbox" onchange="handleFormFactorChange('rack')">
                    <label for="rack" class="option-label">Rack (Стоечный)</label>
                </div>
            </div>
            
            <!-- Sub-options for Tower -->
            <div id="towerSubOptions" class="sub-options">
                <h3 style="font-size: 1em; margin-bottom: 10px; color: #1c2a3c;">Выберите размер:</h3>
                <div class="sub-options-grid">
                    <div class="option-item">
                        <input type="radio" name="towerSize" id="tower1u" value="tower1u" class="option-checkbox">
                        <label for="tower1u" class="option-label">1U</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="towerSize" id="tower2u" value="tower2u" class="option-checkbox">
                        <label for="tower2u" class="option-label">2U</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="towerSize" id="tower4u" value="tower4u" class="option-checkbox">
                        <label for="tower4u" class="option-label">4U</label>
                    </div>
                </div>
            </div>
            
            <!-- Sub-options for Rack -->
            <div id="rackSubOptions" class="sub-options">
                <h3 style="font-size: 1em; margin-bottom: 10px; color: #1c2a3c;">Выберите размер стойки:</h3>
                <div class="sub-options-grid">
                    <div class="option-item">
                        <input type="radio" name="rackSize" id="rack1u" value="rack1u" class="option-checkbox">
                        <label for="rack1u" class="option-label">1U</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="rackSize" id="rack2u" value="rack2u" class="option-checkbox">
                        <label for="rack2u" class="option-label">2U</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="rackSize" id="rack4u" value="rack4u" class="option-checkbox">
                        <label for="rack4u" class="option-label">4U</label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Server Purpose -->
        <div class="option-group">
            <h2 class="option-group-title">Назначение сервера</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="checkbox" name="serverPurpose" id="fileServer" value="file_server" class="option-checkbox">
                    <label for="fileServer" class="option-label">Файловый сервер / Хранилище данных</label>
                </div>
                <div class="option-item">
                    <input type="checkbox" name="serverPurpose" id="computeServer" value="compute_server" class="option-checkbox">
                    <label for="computeServer" class="option-label">Вычислительный сервер</label>
                </div>
                <div class="option-item">
                    <input type="checkbox" name="serverPurpose" id="dbServer" value="db_server" class="option-checkbox">
                    <label for="dbServer" class="option-label">Сервер баз данных</label>
                </div>
                <div class="option-item">
                    <input type="checkbox" name="serverPurpose" id="webServer" value="web_server" class="option-checkbox">
                    <label for="webServer" class="option-label">Веб-сервер</label>
                </div>
                <div class="option-item">
                    <input type="checkbox" name="serverPurpose" id="virtualization" value="virtualization" class="option-checkbox">
                    <label for="virtualization" class="option-label">Виртуализация</label>
                </div>
            </div>
        </div>
        </div>
        
        <!-- CPU SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Процессор (CPU)</h2>
            
            <!-- CPU Count -->
            <div class="option-group">
                <h2 class="option-group-title">Количество процессоров</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="cpuCount" id="cpu1" value="1" class="option-checkbox">
                    <label for="cpu1" class="option-label">1 процессор</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="cpuCount" id="cpu2" value="2" class="option-checkbox">
                    <label for="cpu2" class="option-label">2 процессора</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="cpuCount" id="cpu4" value="4" class="option-checkbox">
                    <label for="cpu4" class="option-label">4 процессора</label>
                </div>
            </div>
        </div>
        
        <!-- CPU Type -->
        <div class="option-group">
            <h2 class="option-group-title">Тип процессора</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="cpuType" id="intelXeon" value="intel_xeon" class="option-checkbox">
                    <label for="intelXeon" class="option-label">Intel Xeon</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="cpuType" id="amdEpyc" value="amd_epyc" class="option-checkbox">
                    <label for="amdEpyc" class="option-label">AMD EPYC</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="cpuType" id="amdOpteron" value="amd_opteron" class="option-checkbox">
                    <label for="amdOpteron" class="option-label">AMD Opteron</label>
                </div>
            </div>
        </div>
        </div>
        
        <!-- MEMORY SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Память (RAM)</h2>
            
            <!-- RAM Amount -->
            <div class="option-group">
                <h2 class="option-group-title">Объем памяти</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram32" value="up_to_32" class="option-checkbox">
                    <label for="ram32" class="option-label">До 32 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram32_64" value="32_64" class="option-checkbox">
                    <label for="ram32_64" class="option-label">32–64 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram64_128" value="64_128" class="option-checkbox">
                    <label for="ram64_128" class="option-label">64–128 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram128_256" value="128_256" class="option-checkbox">
                    <label for="ram128_256" class="option-label">128–256 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram256_512" value="256_512" class="option-checkbox">
                    <label for="ram256_512" class="option-label">256–512 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramAmount" id="ram512plus" value="512_plus" class="option-checkbox">
                    <label for="ram512plus" class="option-label">Более 512 ГБ</label>
                </div>
            </div>
        </div>
        
        <!-- RAM Type -->
        <div class="option-group">
            <h2 class="option-group-title">Тип памяти</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="ramType" id="ddr3" value="ddr3" class="option-checkbox">
                    <label for="ddr3" class="option-label">DDR3</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramType" id="ddr4" value="ddr4" class="option-checkbox">
                    <label for="ddr4" class="option-label">DDR4</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="ramType" id="ddr5" value="ddr5" class="option-checkbox">
                    <label for="ddr5" class="option-label">DDR5</label>
                </div>
            </div>
        </div>
        </div>
        
        <!-- STORAGE SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Хранилище</h2>
            
            <!-- Drive Bays -->
            <div class="option-group">
                <h2 class="option-group-title">Количество отсеков для дисков</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="driveBays" id="bays4" value="up_to_4" class="option-checkbox">
                    <label for="bays4" class="option-label">До 4 отсеков</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="driveBays" id="bays4_8" value="4_8" class="option-checkbox">
                    <label for="bays4_8" class="option-label">4–8 отсеков</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="driveBays" id="bays8_12" value="8_12" class="option-checkbox">
                    <label for="bays8_12" class="option-label">8–12 отсеков</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="driveBays" id="bays12plus" value="12_plus" class="option-checkbox">
                    <label for="bays12plus" class="option-label">Более 12 отсеков</label>
                </div>
            </div>
        </div>
        
        <!-- Storage Type -->
        <div class="option-group">
            <h2 class="option-group-title">Тип накопителей</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="storageType" id="sataHdd" value="sata_hdd" class="option-checkbox">
                    <label for="sataHdd" class="option-label">SATA HDD</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="storageType" id="sasHdd" value="sas_hdd" class="option-checkbox">
                    <label for="sasHdd" class="option-label">SAS HDD</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="storageType" id="sataSsd" value="sata_ssd" class="option-checkbox">
                    <label for="sataSsd" class="option-label">SATA SSD</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="storageType" id="nvmeSsd" value="nvme_ssd" class="option-checkbox">
                    <label for="nvmeSsd" class="option-label">NVMe SSD</label>
                </div>
            </div>
        </div>
        </div>
        
        <!-- GPU SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Графический процессор (GPU)</h2>
            
            <!-- GPU Count -->
            <div class="option-group">
                <h2 class="option-group-title">Количество процессоров</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu0" value="0" class="option-checkbox">
                    <label for="gpu0" class="option-label">Нет GPU</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu1" value="1" class="option-checkbox">
                    <label for="gpu1" class="option-label">1 GPU</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu2" value="2" class="option-checkbox">
                    <label for="gpu2" class="option-label">2 GPU</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu4" value="4" class="option-checkbox">
                    <label for="gpu4" class="option-label">4 GPU</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu8" value="8" class="option-checkbox">
                    <label for="gpu8" class="option-label">8 GPU</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuCount" id="gpu8plus" value="8_plus" class="option-checkbox">
                    <label for="gpu8plus" class="option-label">Более 8 GPU</label>
                </div>
            </div>
        </div>
        
        <!-- GPU Memory -->
        <div class="option-group" id="gpuMemoryGroup" style="display: none;">
            <h2 class="option-group-title">Объем памяти</h2>
            <div class="options-grid">
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem8" value="8" class="option-checkbox">
                    <label for="gpuMem8" class="option-label">8 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem12" value="12" class="option-checkbox">
                    <label for="gpuMem12" class="option-label">12 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem16" value="16" class="option-checkbox">
                    <label for="gpuMem16" class="option-label">16 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem24" value="24" class="option-checkbox">
                    <label for="gpuMem24" class="option-label">24 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem32" value="32" class="option-checkbox">
                    <label for="gpuMem32" class="option-label">32 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem48" value="48" class="option-checkbox">
                    <label for="gpuMem48" class="option-label">48 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem64" value="64" class="option-checkbox">
                    <label for="gpuMem64" class="option-label">64 ГБ</label>
                </div>
                <div class="option-item">
                    <input type="radio" name="gpuMemory" id="gpuMem80" value="80" class="option-checkbox">
                    <label for="gpuMem80" class="option-label">80 ГБ</label>
                </div>
            </div>
        </div>
        </div>
        
        <!-- POWER SUPPLY SECTION -->
        <div class="option-section">
            <h2 class="option-section-title">Питание</h2>
            
            <!-- Power Supply -->
            <div class="option-group">
                <h2 class="option-group-title">Мощность блока питания</h2>
                <div class="options-grid">
                    <div class="option-item">
                        <input type="radio" name="powerSupply" id="ps500" value="up_to_500" class="option-checkbox">
                        <label for="ps500" class="option-label">До 500 Вт</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="powerSupply" id="ps500_750" value="500_750" class="option-checkbox">
                        <label for="ps500_750" class="option-label">500–750 Вт</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="powerSupply" id="ps750_1000" value="750_1000" class="option-checkbox">
                        <label for="ps750_1000" class="option-label">750–1000 Вт</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="powerSupply" id="ps1000plus" value="1000_plus" class="option-checkbox">
                        <label for="ps1000plus" class="option-label">Более 1000 Вт</label>
                    </div>
                </div>
            </div>
        </div>
        </div>
        
        <!-- SIDEBAR PANEL -->
        <div class="sidebar-panel" id="sidebarPanel">
            <div class="sidebar-header">
                <div class="sidebar-header-top">
                    <div class="sidebar-title">Выбранные опции</div>
                    <button class="sidebar-toggle" onclick="toggleSidebar()" id="sidebarToggle">‹</button>
                </div>
                <div class="sidebar-info" id="sidebarInfo">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            <div class="sidebar-content" id="sidebarContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- ACTION BUTTONS -->
    <div class="action-buttons">
        <button class="btn btn-secondary" onclick="goBack()">← Назад</button>
        <button class="btn btn-primary" onclick="showContactModal()">Продолжить</button>
    </div>
    
    <!-- MODAL POPUP -->
    <div class="modal-overlay" id="contactModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Отправка запроса</h2>
                <button class="modal-close" onclick="closeContactModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="selected-summary" id="selectedSummary">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <form class="contact-form" id="contactForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                Имя <span class="required">*</span>
                            </label>
                            <input type="text" class="form-input" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                Организация <span class="required">*</span>
                            </label>
                            <input type="text" class="form-input" name="organization" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                Email <span class="required">*</span>
                            </label>
                            <input type="email" class="form-input" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                Телефон <span class="required">*</span>
                            </label>
                            <input type="tel" class="form-input" name="phone" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            Комментарий
                        </label>
                        <textarea class="form-input form-textarea" name="comment" placeholder="Дополнительная информация"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeContactModal()">Отмена</button>
                <button class="btn btn-primary" onclick="submitContactForm()">Отправить запрос</button>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">
                ООО "БАСИ-плюс"<br>
                УНП 191762563
            </div>
            <div class="footer-text">
                г. Минск, ул. Аранская 8, блок 1, помещение 201<br>
                БЦ "CASPIAN PLAZA"
            </div>
            <div class="footer-text">
                +375 (29) 391-90-44<br>
                info@beltrader.by, sales@beltrader.by
            </div>
        </div>
    </footer>

    <script>
        // DROPDOWN FUNCTIONS
        let dropdownTimeout;
        
        function toggleDropdown(event) {
            event.preventDefault();
            const dropdown = event.currentTarget.closest('.dropdown');
            const content = dropdown.querySelector('.dropdown-content');
            const arrow = dropdown.querySelector('.dropdown-arrow');
            
            if (content.style.display === 'block') {
                content.style.display = 'none';
                arrow.style.transform = 'rotate(0deg)';
            } else {
                content.style.display = 'block';
                arrow.style.transform = 'rotate(180deg)';
            }
        }
        
        // Add hover delay for dropdown
        document.addEventListener('DOMContentLoaded', function() {
            const dropdowns = document.querySelectorAll('.dropdown');
            
            dropdowns.forEach(dropdown => {
                dropdown.addEventListener('mouseenter', function() {
                    clearTimeout(dropdownTimeout);
                    const content = this.querySelector('.dropdown-content');
                    const arrow = this.querySelector('.dropdown-arrow');
                    content.style.display = 'block';
                    arrow.style.transform = 'rotate(180deg)';
                });
                
                dropdown.addEventListener('mouseleave', function() {
                    dropdownTimeout = setTimeout(() => {
                        const content = this.querySelector('.dropdown-content');
                        const arrow = this.querySelector('.dropdown-arrow');
                        content.style.display = 'none';
                        arrow.style.transform = 'rotate(0deg)';
                    }, 300);
                });
            });
        });
        
        // CONSULTATION POPUP FUNCTIONS
        function openConsultationPopup() {
            alert('Функция консультации будет доступна в ближайшее время. Свяжитесь с нами по телефону +375 (29) 391-90-44');
        }
        
        // Update cart badge
        function updateCartBadge() {
            const badge = document.getElementById('cartBadge');
            if (!badge) return;
            
            let totalItems = 0;
            
            const selectedServer = localStorage.getItem('selectedServer');
            if (selectedServer && selectedServer !== 'null' && selectedServer !== '{}') {
                totalItems++;
            }
            
            const currentConfiguration = localStorage.getItem('currentConfiguration');
            if (currentConfiguration && currentConfiguration !== '{}' && currentConfiguration !== 'null') {
                try {
                    const config = JSON.parse(currentConfiguration);
                    Object.values(config).forEach(category => {
                        if (Array.isArray(category)) {
                            totalItems += category.length;
                        }
                    });
                } catch (e) {
                    console.log('Error parsing currentConfiguration:', e);
                }
            }
            
            badge.textContent = totalItems;
            
            if (totalItems === 0) {
                badge.classList.add('hidden');
            } else {
                badge.classList.remove('hidden');
            }
        }
        
        // Get category and brand info
        function getCategoryAndBrand() {
            const urlParams = new URLSearchParams(window.location.search);
            let category = urlParams.get('category') || localStorage.getItem('selectedCategory');
            let brand = urlParams.get('brand') || localStorage.getItem('selectedBrand');
            
            // Category names mapping
            const categoryNames = {
                'servers': 'Серверы',
                'storage': 'Системы хранения данных'
            };
            
            // Brand names mapping
            const brandNames = {
                'hpe': 'HPE',
                'dell': 'Dell',
                'lenovo': 'Lenovo',
                'ibm': 'IBM',
                'xfusion': 'xFusion',
                'h3c': 'H3C',
                'supermicro': 'Supermicro',
                'inspur': 'Inspur',
                'none': 'Не выбрано'
            };
            
            return {
                category: category,
                categoryName: categoryNames[category] || category,
                brand: brand,
                brandName: brandNames[brand] || brand
            };
        }
        
        // Update hero info and sidebar info
        function updateCategoryAndBrandInfo() {
            const info = getCategoryAndBrand();
            const heroInfo = document.getElementById('heroInfo');
            const sidebarInfo = document.getElementById('sidebarInfo');
            
            if (heroInfo) {
                if (info.category && info.brand) {
                    heroInfo.innerHTML = `<span>${info.categoryName}</span> → <span>${info.brandName}</span>`;
                } else {
                    heroInfo.innerHTML = '';
                }
            }
            
            if (sidebarInfo) {
                if (info.category && info.brand) {
                    sidebarInfo.innerHTML = `
                        <div class="sidebar-info-item">
                            <span class="sidebar-info-label">Тип:</span> ${info.categoryName}
                        </div>
                        <div class="sidebar-info-item">
                            <span class="sidebar-info-label">Производитель:</span> ${info.brandName}
                        </div>
                    `;
                } else {
                    sidebarInfo.innerHTML = '';
                }
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            updateCartBadge();
            initRadioDeselect();
            initGpuMemoryToggle();
            updateCategoryAndBrandInfo();
            updateSidebar();
            
            // Listen for all option changes
            document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
                input.addEventListener('change', updateSidebar);
            });
            
            // Also listen for sub-options (towerSize, rackSize)
            document.querySelectorAll('input[name="towerSize"], input[name="rackSize"]').forEach(input => {
                input.addEventListener('change', updateSidebar);
            });
        });
        
        // Initialize GPU memory group toggle
        function initGpuMemoryToggle() {
            const gpuCountInputs = document.querySelectorAll('input[name="gpuCount"]');
            const gpuMemoryGroup = document.getElementById('gpuMemoryGroup');
            const gpuMemoryInputs = document.querySelectorAll('input[name="gpuMemory"]');
            
            function updateGpuMemoryVisibility() {
                const selectedGpuCount = document.querySelector('input[name="gpuCount"]:checked');
                
                if (!selectedGpuCount || selectedGpuCount.value === '0') {
                    // Hide GPU memory group if nothing is selected or "Нет GPU" is selected
                    gpuMemoryGroup.style.display = 'none';
                    // Clear GPU memory selection
                    gpuMemoryInputs.forEach(memInput => {
                        memInput.checked = false;
                    });
                } else {
                    // Show GPU memory group if any GPU count is selected
                    gpuMemoryGroup.style.display = 'block';
                }
                
                // Update sidebar
                updateSidebar();
            }
            
            gpuCountInputs.forEach(input => {
                input.addEventListener('change', updateGpuMemoryVisibility);
            });
            
            // Check initial state
            updateGpuMemoryVisibility();
        }
        
        // Initialize radio button deselection on click
        function initRadioDeselect() {
            const allLabels = document.querySelectorAll('label.option-label');
            
            allLabels.forEach(label => {
                const input = document.getElementById(label.getAttribute('for'));
                if (!input) return;
                
                // Only handle radio buttons, not checkboxes
                if (input.type === 'checkbox') return;
                
                let wasCheckedBeforeClick = false;
                
                label.addEventListener('mousedown', function(e) {
                    if (input.type === 'radio') {
                        wasCheckedBeforeClick = input.checked;
                    }
                });
                
                label.addEventListener('click', function(e) {
                    // If radio was already checked before click, uncheck it
                    if (input.type === 'radio' && wasCheckedBeforeClick) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        setTimeout(() => {
                            input.checked = false;
                            wasCheckedBeforeClick = false;
                            
                            // Handle form factor change if needed
                            if (input.name === 'formFactor') {
                                handleFormFactorChange('none');
                            }
                            
                            // Update GPU memory visibility if GPU count changed
                            if (input.name === 'gpuCount') {
                                const gpuMemoryGroup = document.getElementById('gpuMemoryGroup');
                                const gpuMemoryInputs = document.querySelectorAll('input[name="gpuMemory"]');
                                gpuMemoryGroup.style.display = 'none';
                                gpuMemoryInputs.forEach(memInput => {
                                    memInput.checked = false;
                                });
                            }
                            
                            // Update sidebar
                            setTimeout(() => updateSidebar(), 20);
                        }, 10);
                    }
                });
            });
        }
        
        // Handle form factor change
        function handleFormFactorChange(value) {
            const towerSubOptions = document.getElementById('towerSubOptions');
            const rackSubOptions = document.getElementById('rackSubOptions');
            const towerSizeInputs = document.querySelectorAll('input[name="towerSize"]');
            const rackSizeInputs = document.querySelectorAll('input[name="rackSize"]');
            
            // Hide all sub-options first
            towerSubOptions.classList.remove('active');
            rackSubOptions.classList.remove('active');
            
            // Clear all size selections
            towerSizeInputs.forEach(input => {
                input.checked = false;
            });
            rackSizeInputs.forEach(input => {
                input.checked = false;
            });
            
            // Show appropriate sub-options
            if (value === 'tower') {
                towerSubOptions.classList.add('active');
            } else if (value === 'rack') {
                rackSubOptions.classList.add('active');
            }
            
            // Update sidebar
            updateSidebar();
        }
        
        // Get selected options data
        function getSelectedOptions() {
            const formFactor = document.querySelector('input[name="formFactor"]:checked')?.value || null;
            let finalFormFactor = formFactor;
            
            // If tower is selected, combine with tower size
            if (formFactor === 'tower') {
                const towerSize = document.querySelector('input[name="towerSize"]:checked')?.value || null;
                if (towerSize) {
                    finalFormFactor = towerSize; // tower1u, tower2u, tower4u
                }
            }
            // If rack is selected, combine with rack size
            else if (formFactor === 'rack') {
                const rackSize = document.querySelector('input[name="rackSize"]:checked')?.value || null;
                if (rackSize) {
                    finalFormFactor = rackSize; // rack1u, rack2u, rack4u
                }
            }
            
            return {
                formFactor: finalFormFactor,
                cpuCount: document.querySelector('input[name="cpuCount"]:checked')?.value || null,
                cpuType: document.querySelector('input[name="cpuType"]:checked')?.value || null,
                ramAmount: document.querySelector('input[name="ramAmount"]:checked')?.value || null,
                ramType: document.querySelector('input[name="ramType"]:checked')?.value || null,
                driveBays: document.querySelector('input[name="driveBays"]:checked')?.value || null,
                storageType: document.querySelector('input[name="storageType"]:checked')?.value || null,
                powerSupply: document.querySelector('input[name="powerSupply"]:checked')?.value || null,
                serverPurpose: Array.from(document.querySelectorAll('input[name="serverPurpose"]:checked')).map(cb => cb.value),
                gpuCount: document.querySelector('input[name="gpuCount"]:checked')?.value || null,
                gpuMemory: document.querySelector('input[name="gpuMemory"]:checked')?.value || null
            };
        }
        
        // Save options
        function saveOptions() {
            const options = getSelectedOptions();
            localStorage.setItem('selectedOptions', JSON.stringify(options));
            console.log('Options saved:', options);
            
            // Redirect to components page
            window.location.href = 'web_configurator_components.html';
        }
        
        // Show contact modal
        function showContactModal() {
            const modal = document.getElementById('contactModal');
            if (!modal) return;
            
            // Build summary HTML
            const summaryHTML = buildSelectedSummary();
            const summaryElement = document.getElementById('selectedSummary');
            if (summaryElement) {
                summaryElement.innerHTML = summaryHTML;
            }
            
            // Show modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        // Close contact modal
        function closeContactModal() {
            const modal = document.getElementById('contactModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }
        
        // Build selected summary HTML
        function buildSelectedSummary() {
            const info = getCategoryAndBrand();
            const options = getSelectedOptions();
            
            // Get display text for options
            const getOptionText = (inputName) => {
                const input = document.querySelector(`input[name="${inputName}"]:checked`);
                return input ? input.nextElementSibling.textContent : null;
            };
            
            let html = '<div class="summary-title">Выбранная конфигурация</div>';
            
            // Category and Brand
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Основная информация</div>';
            if (info.categoryName) {
                html += `<div class="summary-item">Тип: ${info.categoryName}</div>`;
            }
            if (info.brandName) {
                html += `<div class="summary-item">Производитель: ${info.brandName}</div>`;
            }
            html += '</div>';
            
            // Form Factor
            const formFactorText = getOptionText('formFactor');
            let formFactorDisplay = formFactorText;
            if (formFactorText === 'Tower (Башенный)') {
                const towerSize = getOptionText('towerSize');
                if (towerSize) {
                    formFactorDisplay = `Tower ${towerSize}`;
                }
            } else if (formFactorText === 'Rack (Стоечный)') {
                const rackSize = getOptionText('rackSize');
                if (rackSize) {
                    formFactorDisplay = `Rack ${rackSize}`;
                }
            }
            
            // Server Purpose
            const serverPurposeTexts = Array.from(document.querySelectorAll('input[name="serverPurpose"]:checked')).map(cb => {
                return cb.nextElementSibling.textContent;
            });
            
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Основные характеристики</div>';
            if (formFactorDisplay) {
                html += `<div class="summary-item">Форм-фактор: ${formFactorDisplay}</div>`;
            }
            if (serverPurposeTexts.length > 0) {
                serverPurposeTexts.forEach(text => {
                    html += `<div class="summary-item">Назначение: ${text}</div>`;
                });
            }
            html += '</div>';
            
            // CPU
            const cpuCountText = getOptionText('cpuCount');
            const cpuTypeText = getOptionText('cpuType');
            
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Процессор (CPU)</div>';
            if (cpuCountText) {
                html += `<div class="summary-item">Количество: ${cpuCountText}</div>`;
            }
            if (cpuTypeText) {
                html += `<div class="summary-item">Тип: ${cpuTypeText}</div>`;
            }
            html += '</div>';
            
            // Memory
            const ramAmountText = getOptionText('ramAmount');
            const ramTypeText = getOptionText('ramType');
            
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Память (RAM)</div>';
            if (ramAmountText) {
                html += `<div class="summary-item">Объем: ${ramAmountText}</div>`;
            }
            if (ramTypeText) {
                html += `<div class="summary-item">Тип: ${ramTypeText}</div>`;
            }
            html += '</div>';
            
            // Storage
            const driveBaysText = getOptionText('driveBays');
            const storageTypeText = getOptionText('storageType');
            
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Хранилище</div>';
            if (driveBaysText) {
                html += `<div class="summary-item">Отсеки для дисков: ${driveBaysText}</div>`;
            }
            if (storageTypeText) {
                html += `<div class="summary-item">Тип накопителей: ${storageTypeText}</div>`;
            }
            html += '</div>';
            
            // GPU
            const gpuCountText = getOptionText('gpuCount');
            const gpuMemoryText = getOptionText('gpuMemory');
            
            if (gpuCountText && gpuCountText !== 'Нет GPU') {
                html += '<div class="summary-group">';
                html += '<div class="summary-group-title">Графический процессор (GPU)</div>';
                html += `<div class="summary-item">Количество: ${gpuCountText}</div>`;
                if (gpuMemoryText) {
                    html += `<div class="summary-item">Объем памяти: ${gpuMemoryText}</div>`;
                }
                html += '</div>';
            }
            
            // Power Supply
            const powerSupplyText = getOptionText('powerSupply');
            
            html += '<div class="summary-group">';
            html += '<div class="summary-group-title">Блок питания</div>';
            if (powerSupplyText) {
                html += `<div class="summary-item">Мощность: ${powerSupplyText}</div>`;
            }
            html += '</div>';
            
            return html;
        }
        
        // Submit contact form
        function submitContactForm() {
            const form = document.getElementById('contactForm');
            if (!form) return;
            
            // Validate form
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // Get form data
            const formData = new FormData(form);
            const contactData = {
                name: formData.get('name'),
                organization: formData.get('organization'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                comment: formData.get('comment')
            };
            
            // Get selected options
            const options = getSelectedOptions();
            const info = getCategoryAndBrand();
            
            // Combine all data
            const requestData = {
                category: info.categoryName,
                brand: info.brandName,
                options: options,
                contact: contactData
            };
            
            // Save to localStorage
            localStorage.setItem('contactRequest', JSON.stringify(requestData));
            
            console.log('Request data:', requestData);
            
            // Here you would typically send the data to a server
            // For now, we'll just show an alert and redirect
            alert('Спасибо! Ваш запрос отправлен. Мы свяжемся с вами в ближайшее время.');
            
            // Save options and redirect
            saveOptions();
        }
        
        // Close modal on overlay click
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('contactModal');
            if (e.target === modal) {
                closeContactModal();
            }
        });
        
        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeContactModal();
            }
        });
        
        // Go back
        function goBack() {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');
            if (category) {
                window.location.href = 'web_configurator_generations.html?category=' + category;
            } else {
                window.location.href = 'web_configurator_generations.html';
            }
        }
        
        // Toggle sidebar
        function toggleSidebar() {
            const panel = document.getElementById('sidebarPanel');
            const toggle = document.getElementById('sidebarToggle');
            panel.classList.toggle('collapsed');
            toggle.textContent = panel.classList.contains('collapsed') ? '›' : '‹';
        }
        
        // Update sidebar with selected options
        function updateSidebar() {
            const sidebarContent = document.getElementById('sidebarContent');
            if (!sidebarContent) return;
            
            // Get all selected options
            const formFactor = document.querySelector('input[name="formFactor"]:checked');
            let formFactorText = null;
            if (formFactor) {
                if (formFactor.value === 'tower') {
                    const towerSize = document.querySelector('input[name="towerSize"]:checked');
                    if (towerSize) {
                        formFactorText = 'Tower ' + towerSize.value.replace('tower', '').toUpperCase();
                    } else {
                        formFactorText = 'Tower (Башенный)';
                    }
                } else if (formFactor.value === 'rack') {
                    const rackSize = document.querySelector('input[name="rackSize"]:checked');
                    if (rackSize) {
                        formFactorText = 'Rack ' + rackSize.value.replace('rack', '').toUpperCase();
                    } else {
                        formFactorText = 'Rack (Стоечный)';
                    }
                }
            }
            
            const serverPurpose = Array.from(document.querySelectorAll('input[name="serverPurpose"]:checked'));
            const serverPurposeTexts = serverPurpose.map(cb => {
                const labels = {
                    'file_server': 'Файловый сервер / Хранилище данных',
                    'compute_server': 'Вычислительный сервер',
                    'db_server': 'Сервер баз данных',
                    'web_server': 'Веб-сервер',
                    'virtualization': 'Виртуализация'
                };
                return labels[cb.value] || cb.value;
            });
            
            const cpuCount = document.querySelector('input[name="cpuCount"]:checked');
            const cpuCountText = cpuCount ? cpuCount.nextElementSibling.textContent : null;
            
            const cpuType = document.querySelector('input[name="cpuType"]:checked');
            const cpuTypeText = cpuType ? cpuType.nextElementSibling.textContent : null;
            
            const ramAmount = document.querySelector('input[name="ramAmount"]:checked');
            const ramAmountText = ramAmount ? ramAmount.nextElementSibling.textContent : null;
            
            const ramType = document.querySelector('input[name="ramType"]:checked');
            const ramTypeText = ramType ? ramType.nextElementSibling.textContent : null;
            
            const driveBays = document.querySelector('input[name="driveBays"]:checked');
            const driveBaysText = driveBays ? driveBays.nextElementSibling.textContent : null;
            
            const storageType = document.querySelector('input[name="storageType"]:checked');
            const storageTypeText = storageType ? storageType.nextElementSibling.textContent : null;
            
            const gpuCount = document.querySelector('input[name="gpuCount"]:checked');
            const gpuCountText = gpuCount ? gpuCount.nextElementSibling.textContent : null;
            
            const gpuMemory = document.querySelector('input[name="gpuMemory"]:checked');
            const gpuMemoryText = gpuMemory ? gpuMemory.nextElementSibling.textContent + ' GPU' : null;
            
            const powerSupply = document.querySelector('input[name="powerSupply"]:checked');
            const powerSupplyText = powerSupply ? powerSupply.nextElementSibling.textContent : null;
            
            // Build HTML
            let html = '';
            
            // Основные характеристики
            html += '<div class="selected-option-group">';
            html += '<div class="selected-option-group-title">Основные характеристики</div>';
            html += formFactorText ? `<div class="selected-option-item">${formFactorText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            if (serverPurposeTexts.length > 0) {
                serverPurposeTexts.forEach(text => {
                    html += `<div class="selected-option-item">${text}</div>`;
                });
            } else {
                html += '<div class="selected-option-item empty">Не выбрано</div>';
            }
            html += '</div>';
            
            // Процессор
            html += '<div class="selected-option-group">';
            html += '<div class="selected-option-group-title">Процессор (CPU)</div>';
            html += cpuCountText ? `<div class="selected-option-item">${cpuCountText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += cpuTypeText ? `<div class="selected-option-item">${cpuTypeText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += '</div>';
            
            // Память
            html += '<div class="selected-option-group">';
            html += '<div class="selected-option-group-title">Память (RAM)</div>';
            html += ramAmountText ? `<div class="selected-option-item">${ramAmountText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += ramTypeText ? `<div class="selected-option-item">${ramTypeText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += '</div>';
            
            // Хранилище
            html += '<div class="selected-option-group">';
            html += '<div class="selected-option-group-title">Хранилище</div>';
            html += driveBaysText ? `<div class="selected-option-item">${driveBaysText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += storageTypeText ? `<div class="selected-option-item">${storageTypeText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += '</div>';
            
            // GPU
            if (gpuCountText && gpuCountText !== 'Нет GPU') {
                html += '<div class="selected-option-group">';
                html += '<div class="selected-option-group-title">Графический процессор (GPU)</div>';
                html += `<div class="selected-option-item">${gpuCountText}</div>`;
                html += gpuMemoryText ? `<div class="selected-option-item">${gpuMemoryText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
                html += '</div>';
            }
            
            // Блок питания
            html += '<div class="selected-option-group">';
            html += '<div class="selected-option-group-title">Блок питания</div>';
            html += powerSupplyText ? `<div class="selected-option-item">${powerSupplyText}</div>` : '<div class="selected-option-item empty">Не выбрано</div>';
            html += '</div>';
            
            sidebarContent.innerHTML = html;
        }
    </script>
</body>
</html>

